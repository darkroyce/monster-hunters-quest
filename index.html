<div class="content-container">
    <h1>Monster Hunters Quest</h1>
    <p>Move around the map and see your environment change!</p>

    <!-- Movement Buttons -->
    <div class="movement-buttons">
        <button onclick="move('up')">⬆️</button><br>
        <button onclick="move('left')">⬅️</button>
        <button onclick="move('down')">⬇️</button>
        <button onclick="move('right')">➡️</button>
    </div>
</div>

<style>
    /* Background colors for different environments */
    .city-bg { background-color: grey; }
    .forest-bg { background-color: green; }
    .lake-bg { background-color: blue; }
    .field-bg { background-color: yellow; }

    .movement-buttons {
        margin-top: 20px;
        text-align: center;
    }

    .movement-buttons button {
        font-size: 24px;
        margin: 5px;
        padding: 10px;
    }
</style>

<script>
    const mapSize = 20;
    let playerPosition = { x: Math.floor(mapSize / 2), y: Math.floor(mapSize / 2) };

    function updateBackground(tileType) {
        const body = document.body;
        body.classList.remove('city-bg', 'forest-bg', 'lake-bg', 'field-bg');

        if (tileType === 'city') {
            body.classList.add('city-bg');
        } else if (tileType === 'forest') {
            body.classList.add('forest-bg');
        } else if (tileType === 'lake') {
            body.classList.add('lake-bg');
        } else if (tileType === 'field') {
            body.classList.add('field-bg');
        }
    }

    // Function to move the player and update background
    function move(direction) {
        if (direction === 'up' && playerPosition.y > 0) {
            playerPosition.y -= 1;
        } else if (direction === 'down' && playerPosition.y < mapSize - 1) {
            playerPosition.y += 1;
        } else if (direction === 'left' && playerPosition.x > 0) {
            playerPosition.x -= 1;
        } else if (direction === 'right' && playerPosition.x < mapSize - 1) {
            playerPosition.x += 1;
        }

        // Fetch current tile type from the map (randomly generated)
        const randomType = Math.random();
        let tileType;
        if (randomType < 0.25) {
            tileType = 'city';
        } else if (randomType < 0.5) {
            tileType = 'forest';
        } else if (randomType < 0.75) {
            tileType = 'lake';
        } else {
            tileType = 'field';
        }

        localStorage.setItem('currentTileType', tileType); // Store tile type
        updateBackground(tileType); // Update background color
    }

    // Load background on home tab load
    const currentTile = localStorage.getItem('currentTileType') || 'city';
    updateBackground(currentTile);
</script>
